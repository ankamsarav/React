<!DOCTYPE html>
<html>
<head>
	<title>React | Like BUTTON</title>
	<script type="text/javascript" src="js/react.js"></script>
	<script type="text/javascript" src="js/JSXTransformer.js"></script>
	<link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.css">
</head>
<body>

	<div class="container">
		<div id="container"></div>
	</div>

	<script type="text/jsx">
		var Message = React.createClass({
			render: function() {
				return (
					<div>
						<strong>{this.props.name}</strong>  :
						<span>{this.props.msg}</span>
					</div>
				);
			}
		});

		var MessageApp = React.createClass({
			getInitialState: function() {
				return {
					data:[] 
				};
			},
			updatechat: function(){
				this.setState({
					data: this.state.data.concat([{
						c: React.findDOMNode(this.refs.uname).value,
						m: React.findDOMNode(this.refs.msg).value
					}])
				});
			},
			render: function() {
				var mdata = this.state.data;
				return (
					<div>{mdata.map(function(data,index){
						return <Message key={index} name={data.c} msg={data.m}/>
					})}
						
						<div>
							<input ref="uname" placeholder="Name" /> &nbsp;
							<input ref="msg" placeholder="Message" /> &nbsp;
							<button onClick={this.updatechat}>Click</button>
						</div>
					</div>
				);
			}
		});

		React.render(<MessageApp />, document.getElementById('container'));
	</script>

</body>
</html>

